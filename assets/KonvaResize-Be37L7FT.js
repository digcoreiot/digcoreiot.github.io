import{_ as $,r as o,m as q,a,o as _,b as p,j as t,w as i,g as f,n as R,F as g,i as C,d as L,e as W,t as K,p as O,q as T}from"./index-DjAcCz50.js";const U=u=>(O("data-v-0b887d6b"),u=u(),T(),u),A=U(()=>f("h3",null,"墨水屏",-1)),G={__name:"KonvaResize",setup(u){const S=o(window.innerWidth),N=o(window.innerHeight),s=o(0),v=o(0),w=o(null),m=o(null),y=o([{text:"4.2寸",value:{w:400,h:300}},{text:"5.83寸",value:{w:600,h:480}},{text:"7.5寸",value:{w:800,h:480}}]),n=o(y.value[1].value),x=o({width:n.value.w,height:n.value.h}),z=o(null),h=o(null);function k(){const c=document.getElementById("konvaContent");if(c){s.value=c.clientWidth;let e=(s.value-4*2)/n.value.w;n.value.w==400&&(e/=1.6),n.value.w==600&&(e/=1.5),e=Math.round(e*100)/100,v.value=n.value.h*e+4*2,x.value={width:n.value.w,height:n.value.h},w.value={padding:"4px",width:s.value+"px",height:v.value+"px",overFlow:"hidden"},m.value={transform:`scale(${e})`,"transform-origin":"top left",position:"absolute"},console.log("容器宽:",s.value,"缩放比:",e,"容器高:",v.value)}else console.error('Element with id "konvaContent" not found.')}function B(){const c=new Konva.Rect({x:0,y:0,width:400,height:300,fill:"white",stroke:"red",strokeWidth:5}),l=new Konva.Rect({x:0,y:0,width:600,height:480,fill:"white",stroke:"red",strokeWidth:5}),e=new Konva.Rect({x:0,y:0,width:800,height:480,fill:"white",stroke:"red",strokeWidth:5}),d=h.value.getNode();d.add(e),d.add(l),d.add(c),d.draw()}function V(){const c=new Konva.Rect({x:100,y:100,width:100,height:100,fill:"blue",stroke:"green",strokeWidth:5,draggable:!0}),l=h.value.getNode();l.add(c),l.draw()}return q(()=>{console.log("onMounted"),k(),B(),V()}),(c,l)=>{const e=a("van-cell"),d=a("van-cell-group"),I=a("v-layer"),D=a("v-stage"),E=a("van-radio"),P=a("van-radio-group"),F=a("van-row"),H=a("van-divider"),M=a("van-action-bar-icon"),b=a("van-action-bar-button"),j=a("van-action-bar");return _(),p(g,null,[t(d,null,{default:i(()=>[t(e,{title:"屏幕",value:S.value+"x"+N.value},null,8,["value"]),t(e,{title:"容器",value:s.value+"x"+v.value},null,8,["value"]),t(e,{title:"eink",value:n.value.w+"x"+n.value.h},null,8,["value"])]),_:1}),f("div",{style:R(w.value),id:"konvaContent",class:"bar"},[f("div",{style:R(m.value)},[t(D,{ref_key:"stageRef",ref:z,config:x.value},{default:i(()=>[t(I,{ref_key:"layerRef",ref:h},null,512)]),_:1},8,["config"])],4)],4),t(F,{justify:"space-around",style:{padding:"10px 0",background:"#fff"}},{default:i(()=>[A,t(P,{modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=r=>n.value=r),direction:"horizontal",onChange:k},{default:i(()=>[(_(!0),p(g,null,C(y.value,r=>(_(),L(E,{key:r.value,name:r.value},{default:i(()=>[W(K(r.text),1)]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])]),_:1}),(_(),p(g,null,C(10,r=>t(H,{key:r,style:{color:"#1989fa",borderColor:"#1989fa",padding:"0 16px"}},{default:i(()=>[W(" 底部"+K(r),1)]),_:2},1024)),64)),t(j,null,{default:i(()=>[t(M,{icon:"underway-o",text:"历史设备",color:"#4D4D4D",style:{margin:"30px"}}),t(b,{type:"primary",icon:"scan",text:"扫码连接",color:"#333"}),t(b,{type:"primary",icon:"share-o",text:"写入设备"})]),_:1})],64)}}},Q=$(G,[["__scopeId","data-v-0b887d6b"]]);export{Q as default};
