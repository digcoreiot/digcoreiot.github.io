import{r as v,a as d,o as p,d as m,w,e as g}from"./index-DjAcCz50.js";const l="6e400001-b5a3-f393-e0a9-e50e24dcca9e",h="6e400003-b5a3-f393-e0a9-e50e24dcca9e",x="6e400002-b5a3-f393-e0a9-e50e24dcca9e",b={filters:[{namePrefix:"UART"},{services:[l]}]};let e,s,o,r,u;async function y(_,a){if(e&&e.name===name)return;e&&await e.gatt.disconnect(),e=await navigator.bluetooth.requestDevice(b),s=await e.gatt.connect(),o=await s.getPrimaryService(l),r=await o.getCharacteristic(h),r.addEventListener("characteristicvaluechanged",a),await r.startNotifications(),u=await o.getCharacteristic(x);const c=new Uint8Array([103]);u.writeValue(c).then(()=>{console.log("发送数据成功")}).catch(n=>{console.log("发送数据失败:",n)})}const k={__name:"BleView",setup(_){const a=v("");async function c(i){const t=i.target.value;console.log(`收到数据： ${new Uint8Array(t.buffer)}`)}async function n(){y(a,c)}return(i,t)=>{const f=d("van-button");return p(),m(f,{type:"primary",onClick:t[0]||(t[0]=C=>n())},{default:w(()=>[g("搜索蓝牙")]),_:1})}}};export{k as default};
